<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"  content="width=device-width, initial-scale=1">
    <meta name="format-detection" content="telephone=no">
    <title>确认订单 - 魅族商城</title>
    <link href="css/shopping_cart.css" type="text/css" rel="stylesheet">
    <script type="text/javascript" src="js/jquery-1.8.3.min.js"></script>
    <link href="css/bootstrap.css" type="text/css" rel="stylesheet">
    <link href="css/animate.css" type="text/css" rel="stylesheet">
    <script type="text/javascript" src="js/bootstrap.min.js" ></script>
    <script type="text/javascript" src="js/vue.js"></script>
</head>
<body>
<div class="container">
    <div class="header clearfix">
        <div class="header_logo">
            <a href="flyme_index.html" class="navbar-brand"><img src="./img/logo-new-toggle@2x_52c2068.png" width="115px" height="20px"> </a>
        </div>
        <div class="header_router clearfix">
            <ol class="breadcrumb" style="background: #fff">
                <li><a href="#">购物车</a></li>
                <li class="active">确认订单</li>
                <li><a href="#">在线支付</a></li>
                <li><a href="#">完成</a></li>
            </ol>
        </div>
        <div class="header_right clearfix">
            <a >我的订单</a>
        </div>
    </div>
    <div class="receiverMsg clearfix">
        <h4 style="margin-left: 20px;font-weight: bold;padding-top: 10px">收货人信息</h4>
        <hr>
        <div class="receiverMsg_box clearfix">
            <ul>
                <li id="hasMsg" v-for="(item,index) in receiver" style="font-size: 12px" class="clearfix"
                    v-show="receiver.length!=0" :class="{'receiverMsg_selected':item.selected}" @click="receiverOn(index)">
                   <div style="border-bottom: 0.1px solid #ccc" class="clearfix">
                       <span v-text="item.name" id="receiverName"></span>
                       <span v-text="item.tel" id="receiverTel" class="clearfix"></span>
                   </div>
                    <p v-text="item.addr" id="receiverAddr" ></p>
                </li>
                <li id="addMsg">
                    <div>
                        <div><a class="glyphicon glyphicon-plus-sign" ></a></div>
                        <p>添加新地址</p>
                    </div>

                </li>
            </ul>
        </div>
    </div>
    <div class="orderMsg">
        <h4 style="font-weight: bold">确定订单信息</h4>
        <hr>
        <table>
            <tr>
                <td width="438px" height="62px" valign="middle"><p style="margin-left: 15px;margin-top:8px;font-size: 12px">供应商：魅族</p></td>
                <td width="228px" height="62px" valign="middle"><h4><b>单价</b></h4></td>
                <td width="140px" height="62px" valign="middle"><h4><b>数量</b></h4></td>
                <td width="160px" height="62px" valign="middle"><h4><b>小计</b></h4></td>
                <td width="192px" align="center" height="62px" valign="middle"><h4><b>配送方式</b></h4></td>
            </tr>
            <tr v-for="item in product">
                <td class="clearfix orderMsg_product"> <img :src="item.img" width="102px" height="102px"> <p v-text="item.name"></p><p v-text="item.version"></p></td>
                <td height="150px"><p v-text="'￥'+item.price" style="color: #e02b41"></p></td>
                <td height="150px" align="left"><p style="padding-left: 13px" v-text="item.num"></p></td>
                <td height="150px"><p v-text="'￥'+item.sum" style="color: #e02b41"></p></td>
                <td height="150px" align="center" style="border:1px solid #ccc " :rowspan="item.row" v-show="item.row!=0"><p v-text="item.dev"></p></td>

            </tr>
            <tfoot>
            <tr bgcolor="#f6f6f6">
                <td colspan="5">
                    <div class="orderMsg_info">
                       <span style="vertical-align:top">备注&nbsp;&nbsp;</span>
                        <textarea placeholder="备注..." maxlength="45" ></textarea>
                    </div>
                    <div class="orderMsg_total" style="font-size: 16px">
                        合计
                        <span style="font-size: 22px;color:#e02b41;font-weight: bold;" v-text="'￥'+totalPrice+'.00'"></span>
                    </div>
                </td>
            </tr>
            </tfoot>
        </table>
    </div>
    <div class="paymentMsg clearfix">
        <h4 style="font-weight: bold">选择支付方式</h4>
        <hr>
        <div class="payment_select clearfix">
            <div class="payment_ali clearfix">
                <div class="payment_aliSelect  clearfix">
                    <span>支付宝</span>
                    <ul>
                        <li v-for="(item,index) in ali" @click="aliSelected(index)" style="cursor: pointer"><img width="125" height="40" :src="item.img" ></li>
                    </ul>
                </div>
                <div  class="payment_antIns clearfix" v-show="antInsShow">
                    <ul>
                        <li  :class="{'payment_antIns_selected':antIns[0].selected}" @click="antInsSelected(0)">
                            <p v-model="antIns[0].pay" v-text="'￥'+pay3+' x '+antIns[0].month+' 期 '"style="font-size: 16px;width: 100%" align="center" class="payment_antIns_p"></p></li>
                        <li  :class="{'payment_antIns_selected':antIns[1].selected}" @click="antInsSelected(1)">
                            <p v-model="antIns[1].pay" v-text="'￥'+pay6+' x '+antIns[1].month+' 期 '"style="font-size: 16px;width: 100%" align="center" class="payment_antIns_p"></p></li>
                        <li  :class="{'payment_antIns_selected':antIns[2].selected}" @click="antInsSelected(2)">
                            <p v-model="antIns[2].pay" v-text="'￥'+pay12+' x '+antIns[2].month+' 期 '"style="font-size: 16px;width: 100%" align="center" class="payment_antIns_p"></p></li>
                    </ul>
                </div>
            </div>
            <div class="payment_wechat clearfix">
                <span>微信支付</span>
                <ul >
                    <li onclick="aliSelected(1)" style="cursor: pointer"><img src="img/payment_wechatpay.png" width="125" height="40"></li>
                </ul>
            </div>
            <div class="payment_bank clearfix">
                <span>网上银行</span>
                <ul style="width: 88%">
                    <li v-for="item in bank"><img width="125" height="40" :src="item.img"style="border: 0.5px solid #8c8c8c" style="cursor: pointer"@click="aliSelected(1)"></li>
                </ul>
            </div>

            </div>
        <div class="payment_computed clearfix">
        <div class="clearfix"><p>总金额</p><p v-text="'￥'+totalPrice+'.00'"></p></div>
        <div class="clearfix"><p>运费</p><p v-text="'￥0.00'"></p></div>
        <hr>
        <div class="clearfix"><p>应付：</p><p v-text="'￥'+totalPrice+'.00'" style="font-size: 20px;color:#e02b41;font-weight: bold;"></p></div>
        <button id="checkedButton" class="btn btn-primary">确认订单</button>
        </div>
        </div>

    <hr>
    <div id="footer">
        <p>&copy;2017 ToZ LAB Design for Meizu Telecom Equipment Co., Ltd. All rights reserved. </p>
    </div>
</div>

<script>
    var vr=new Vue({
        el:".container",
        data:{
            receiver:[
                {name:"林梓键",tel:"13192256005",addr:"广东省珠海市香洲区北理工",selected:true},
                {name:"ToZLam",tel:"13411942184",addr:"广东省汕头市龙湖区泰星路",selected:false}
                ],
            product:[
                {name:"魅族PRO 6s",version:"全网通公开版 星空黑 64GB",img:"img/pro6s_black@240x240.jpg",
                    price:"2299",num:"1",sum:"2299",dev:"快递配送：运费0元",row:2},
                {name:"魅族PRO7",img:"img/pro7_red@240x240.jpg",version:"全网通公开版 提香红4GB+64GB",
                    price:"2499",num:"1",sum:"2499",dev:"快递配送：运费0元",row:0}
            ],
            totalPrice:4798.00,
            num:2,
            bank:[
                {name:"中国银行",img:"img/payment_boc.png",tel:""},
                {name:"中国工商银行",img:"img/payment_icbc.png",tel:""},
                {name:"中国建设银行",img:"img/payment_ccb.png",tel:""},
                {name:"中国交通银行",img:"img/payment_jiaotong.png",tel:""},
                {name:"中国农业银行",img:"img/payment_abc.png",tel:""},
            ],
            ali:[
                {name:"蚂蚁花呗",img:"img/payment_antIns.png"},
                {name:"支付宝",img:"img/payment_alipay.png"},
            ],
            antIns:[{pay:0,month:3,selected:true},{pay:0,month:6,selected:false},{pay:0,month:12,selected:false}],
            antInsShow:true

        },
        methods:{
            receiverOn:function(index){

                for(var i=0;i<this.receiver.length;i++){
                    this.receiver[i].selected=false;

                }
                this.receiver[index].selected=true;
            },
            antInsSelected(index){
                for(var i=0;i<this.antIns.length;i++){
                    this.antIns[i].selected=false;

                }
                this.antIns[index].selected=true;
            },
            aliSelected(index){

                if(index==0){
                    this.antInsShow=true;
                }
                else
                    this.antInsShow=false;
            }

        },
        computed:{
            pay3:function () {
                   return this.antIns[0].pay=(this.totalPrice/this.antIns[0].month).toFixed(2);

            },
            pay6:function () {
                return this.antIns[1].pay=(this.totalPrice/this.antIns[1].month).toFixed(2);

            },
            pay12:function () {
                return this.antIns[2].pay=(this.totalPrice/this.antIns[2].month).toFixed(2);

            }

        },
        mounted:function () {
            var index=location.hash.split("#")[1]==null?2:location.hash.split("#")[1];
            this.num=index;
            if(index==1)
            this.totalPrice=2299;
            this.product.length=index;
        }

    });
</script>
</body>
</html>